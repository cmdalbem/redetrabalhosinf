<h1>Explorar</h1>

<br>

<div class="content">

<div>
  <center>
    <% if user_signed_in?
      dest = new_project_path;
    else
      dest = new_user_session_path
    end %>
    <%= link_to raw("<i class=\"icon-plus\"></i> Novo Projeto"), dest, class: "btn btn-success btn-large" %>
  </center>
</div>

<br>

<!-- Course Filter Form -->
<center>
  <%= form_tag projects_path, method: 'get', class: "form-search" do %>
      <div class="field">
        <%= select :course, :id, Course.all.collect {|p| [p.name, p.id] }, { :include_blank => true }, {"data-placeholder" => "Filtrar por disciplina", class: "chzn-select"} %>
        <%= submit_tag "Filtrar", class: "btn", name: nil, style: "margin-top: -20px;" %>
      </div>
  <% end %>
</center>

<br>
<br>

<div class="row-fluid">
  <!-- Search Form --> 
  <div class="pull-left">
    <%= form_tag projects_path, method: 'get', class: "form-search" do %>
        <div class="field">
          <div class="input-append">
            <%= text_field_tag :search, params[:search], class: "search-query input-xlarge", placeholder: "Busca por título ou descrição" %>
            <%= submit_tag "Pesquisar", class: "btn", name: nil %>
          </div>
        </div>
    <% end %>
  </div>

  <!-- Button group for choosing view (list or thumbnail) -->
  <div class="pull-right">
    <%= render 'viewmodes_buttons' %>
  </div>

</div>

<!-- The listing itself -->
<div id="projects-table" class="clearfix"> 
  <% if @viewMode == :list %>
    <%= render 'projects_list' %>
  <% else %>
    <%= render 'projects_thumbs' %>
  <% end %>
</div>

</div>

<center>
  <% if user_signed_in?
    dest = new_project_path;
  else
    dest = new_user_session_path
  end %>
  <%= link_to raw("<i class=\"icon-plus\"></i> Novo Projeto"), dest, class: "btn btn-success btn-large" %>
</center>
